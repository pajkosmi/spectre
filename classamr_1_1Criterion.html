<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="author" content="SXS Collaboration">
    <meta name="generator" content="Doxygen 1.9.3"/>
  <title>SpECTRE: amr::Criterion Class Reference</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="./MathJax.js"></script>
  <link href="octicons.css" rel="stylesheet">
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
  <script src="https://unpkg.com/@popperjs/core@2"></script>
  <script src="https://unpkg.com/tippy.js@6"></script>
  <script type="text/javascript" src="spectre.js"></script>
  <script type="text/javascript" src="doxygen-navtree-hacks.js"></script>
  <script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
  <script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
  <script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
  <script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeParagraphLink.init()
  </script>
  </head>
  <body>
  <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0">
      <tbody>
        <tr style="height: 56px;">
          <td id="projectalign" style="padding-left: 0.5em;">
            <div id="projectname">
              <a href="index.html">SpECTRE</a>
              &#160;<span id="projectnumber">v2023.06.19</span>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classamr_1_1Criterion.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classamr_1_1Criterion-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">amr::Criterion Class Reference<div class="ingroups"><a class="el" href="group__AmrGroup.html">Adaptive Mesh Refinement</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>Base class for something that determines how an adaptive mesh should be changed.  
 <a href="classamr_1_1Criterion.html#details">More...</a></p>

<p><code>#include &lt;Criterion.hpp&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a94cb4c14a23e2c852466609035da543e"><td class="memItemLeft" align="right" valign="top"><a id="a94cb4c14a23e2c852466609035da543e" name="a94cb4c14a23e2c852466609035da543e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>Criterion</b> (CkMigrateMessage *msg)</td></tr>
<tr class="separator:a94cb4c14a23e2c852466609035da543e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20da985cc5cef3215ed24673a7ea7dc9"><td class="memItemLeft" align="right" valign="top"><a id="a20da985cc5cef3215ed24673a7ea7dc9" name="a20da985cc5cef3215ed24673a7ea7dc9"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>WRAPPED_PUPable_abstract</b> (<a class="el" href="classamr_1_1Criterion.html">Criterion</a>)</td></tr>
<tr class="separator:a20da985cc5cef3215ed24673a7ea7dc9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2ccadf5f26f696cc98db98359561f8d8"><td class="memTemplParams" colspan="2">template&lt;typename ComputeTagsList , typename DataBoxType , typename Metavariables &gt; </td></tr>
<tr class="memitem:a2ccadf5f26f696cc98db98359561f8d8"><td class="memTemplItemLeft" align="right" valign="top">auto&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classamr_1_1Criterion.html#a2ccadf5f26f696cc98db98359561f8d8">evaluate</a> (const ObservationBox&lt; ComputeTagsList, DataBoxType &gt; &amp;box, <a class="el" href="classParallel_1_1GlobalCache.html">Parallel::GlobalCache</a>&lt; Metavariables &gt; &amp;cache, const <a class="el" href="classElementId.html">ElementId</a>&lt; Metavariables::volume_dim &gt; &amp;element_id) const</td></tr>
<tr class="memdesc:a2ccadf5f26f696cc98db98359561f8d8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Evaluates the AMR criteria by selecting the appropriate derived class and forwarding its <code>argument_tags</code> from the ObservationBox (along with the GlobalCache and ArrayIndex) to the call operator of the derived class.  <a href="classamr_1_1Criterion.html#a2ccadf5f26f696cc98db98359561f8d8">More...</a><br /></td></tr>
<tr class="separator:a2ccadf5f26f696cc98db98359561f8d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Base class for something that determines how an adaptive mesh should be changed. </p>
<h3>Details</h3>
<p >Each class derived from this class should (see the examples below):</p><ul>
<li>Be option-creatable</li>
<li>Be serializable</li>
<li>Define a call operator that returns a std::array&lt;amr::Flag, Dim&gt; containing the recommended refinement choice in each logical dimension of the <a class="el" href="classElement.html" title="A spectral element with knowledge of its neighbors.">Element</a>.</li>
<li>Define the type aliases <code>argument_tags</code> and <code>compute_tags_for_observation_box</code> that are type lists of tags used in the call operator. The call operator should take as arguments the values corresponding to each tag in <code>argument_tags</code> (in order), followed by the <a class="el" href="classParallel_1_1GlobalCache.html" title="A Charm++ chare that caches constant data once per Charm++ node or non-constant data once per Charm++...">Parallel::GlobalCache</a>, and the <a class="el" href="classElementId.html" title="An ElementId uniquely labels an Element.">ElementId</a>. The tags listed in <code>argument_tags</code> should either be tags in the DataBox of the array component, or listed in <code>compute_tags_for_observation_box</code>.</li>
</ul>
<h3>Example</h3>
<div class="fragment"><div class="line"><span class="keyword">struct </span>FieldOne : <a class="code hl_struct" href="structdb_1_1SimpleTag.html">db::SimpleTag</a> {</div>
<div class="line">  <span class="keyword">using</span> type = double;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>FieldTwo : <a class="code hl_struct" href="structdb_1_1SimpleTag.html">db::SimpleTag</a> {</div>
<div class="line">  <span class="keyword">using</span> type = double;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>Constraint : <a class="code hl_struct" href="structdb_1_1SimpleTag.html">db::SimpleTag</a> {</div>
<div class="line">  <span class="keyword">using</span> type = double;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>ConstraintCompute : <a class="code hl_struct" href="structdb_1_1ComputeTag.html">db::ComputeTag</a>, Constraint {</div>
<div class="line">  <span class="keyword">using</span> base = Constraint;</div>
<div class="line">  <span class="keyword">using</span> return_type = double;</div>
<div class="line">  <span class="keyword">using</span> argument_tags = tmpl::list&lt;FieldOne, FieldTwo&gt;;</div>
<div class="line">  <span class="keyword">static</span> <span class="keywordtype">void</span> function(<span class="keyword">const</span> <a class="code hl_class" href="classgsl_1_1not__null.html">gsl::not_null&lt;double*&gt;</a> result,</div>
<div class="line">                       <span class="keyword">const</span> <span class="keywordtype">double</span> field_one, <span class="keyword">const</span> <span class="keywordtype">double</span> field_two) {</div>
<div class="line">    *result = field_one - field_two;</div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#pragma GCC diagnostic push</span></div>
<div class="line"><span class="preprocessor">#pragma GCC diagnostic ignored &quot;-Wunused-function&quot;</span></div>
<div class="line"><span class="keyword">class </span>CriterionOne : <span class="keyword">public</span> <a class="code hl_class" href="classamr_1_1Criterion.html">amr::Criterion</a> {</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">struct </span>CriticalValue {</div>
<div class="line">    <span class="keyword">using</span> type = double;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> <a class="code hl_typedef" href="namespaceOptions.html#aa61c7f41f21afa7646811456f673be89">Options::String</a> help = {</div>
<div class="line">        <span class="stringliteral">&quot;The critical value of field one .&quot;</span>};</div>
<div class="line">  };</div>
<div class="line">  <span class="keyword">using</span> options = tmpl::list&lt;CriticalValue&gt;;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">constexpr</span> <a class="code hl_typedef" href="namespaceOptions.html#aa61c7f41f21afa7646811456f673be89">Options::String</a> help = {</div>
<div class="line">      <span class="stringliteral">&quot;h-refine the grid if field one is above a critical value&quot;</span>};</div>
<div class="line"> </div>
<div class="line">  CriterionOne() = <span class="keywordflow">default</span>;</div>
<div class="line">  <span class="keyword">explicit</span> CriterionOne(<span class="keyword">const</span> <span class="keywordtype">double</span> critical_value)</div>
<div class="line">      : critical_value_(critical_value) {}</div>
<div class="line">  <span class="keyword">explicit</span> CriterionOne(CkMigrateMessage* msg) : Criterion(msg) {}</div>
<div class="line">  <span class="keyword">using</span> PUP::able::register_constructor;</div>
<div class="line">  <a class="code hl_define" href="group__ParallelGroup.html#ga54770b986b9c522da6d651e1be125a03">WRAPPED_PUPable_decl_template</a>(CriterionOne);  <span class="comment">// NOLINT</span></div>
<div class="line"> </div>
<div class="line">  <span class="keyword">using</span> compute_tags_for_observartion_box = tmpl::list&lt;&gt;;</div>
<div class="line">  <span class="keyword">using</span> argument_tags = tmpl::list&lt;FieldOne&gt;;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Metavariables&gt;</div>
<div class="line">  <span class="keyword">auto</span> operator()(</div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">double</span> field_one, <a class="code hl_class" href="classParallel_1_1GlobalCache.html">Parallel::GlobalCache&lt;Metavariables&gt;</a>&amp; <span class="comment">/*cache*/</span>,</div>
<div class="line">      <span class="keyword">const</span> <a class="code hl_class" href="classElementId.html">ElementId&lt;Metavariables::volume_dim&gt;</a>&amp; <span class="comment">/*element_id*/</span>)<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> field_one &gt; critical_value_ ? <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/container/array.html">std::array</a>{<a class="code hl_enumvalue" href="group__AmrGroup.html#gga6874579f1400ff7d0d77cbfa978289e2a8a9e64d86ed12ad40de129bc7f4683b2">amr::Flag::Split</a>}</div>
<div class="line">                                       : <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/container/array.html">std::array</a>{<a class="code hl_enumvalue" href="group__AmrGroup.html#gga6874579f1400ff7d0d77cbfa978289e2a71b7f3fcd4098ebf8a3b387579d90dd7">amr::Flag::DoNothing</a>};</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> pup(PUP::er&amp; p)<span class="keyword"> override </span>{</div>
<div class="line">    Criterion::pup(p);</div>
<div class="line">    p | critical_value_;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">private</span>:</div>
<div class="line">  <span class="keywordtype">double</span> critical_value_{0.0};</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">PUP::able::PUP_ID CriterionOne::my_PUP_ID = 0;  <span class="comment">// NOLINT</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>CriterionTwo : <span class="keyword">public</span> <a class="code hl_class" href="classamr_1_1Criterion.html">amr::Criterion</a> {</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">struct </span>TargetValue {</div>
<div class="line">    <span class="keyword">using</span> type = double;</div>
<div class="line">    <span class="keyword">static</span> <span class="keyword">constexpr</span> <a class="code hl_typedef" href="namespaceOptions.html#aa61c7f41f21afa7646811456f673be89">Options::String</a> help = {<span class="stringliteral">&quot;The target value.&quot;</span>};</div>
<div class="line">  };</div>
<div class="line">  <span class="keyword">using</span> options = tmpl::list&lt;TargetValue&gt;;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">constexpr</span> <a class="code hl_typedef" href="namespaceOptions.html#aa61c7f41f21afa7646811456f673be89">Options::String</a> help = {</div>
<div class="line">      <span class="stringliteral">&quot;h-refine if the absolute value of the constraint is above the target &quot;</span></div>
<div class="line">      <span class="stringliteral">&quot;value.  h-coarsen if the constraint is an order of magnitude below the &quot;</span></div>
<div class="line">      <span class="stringliteral">&quot;target value&quot;</span>};</div>
<div class="line"> </div>
<div class="line">  CriterionTwo() = <span class="keywordflow">default</span>;</div>
<div class="line">  <span class="keyword">explicit</span> CriterionTwo(<span class="keyword">const</span> <span class="keywordtype">double</span> target_value)</div>
<div class="line">      : target_value_(target_value) {}</div>
<div class="line">  <span class="keyword">explicit</span> CriterionTwo(CkMigrateMessage* <span class="comment">/*msg*/</span>) {}</div>
<div class="line">  <span class="keyword">using</span> PUP::able::register_constructor;</div>
<div class="line">  <a class="code hl_define" href="group__ParallelGroup.html#ga54770b986b9c522da6d651e1be125a03">WRAPPED_PUPable_decl_template</a>(CriterionTwo);  <span class="comment">// NOLINT</span></div>
<div class="line"> </div>
<div class="line">  <span class="keyword">using</span> compute_tags_for_observartion_box = tmpl::list&lt;ConstraintCompute&gt;;</div>
<div class="line">  <span class="keyword">using</span> argument_tags = tmpl::list&lt;Constraint&gt;;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">template</span> &lt;<span class="keyword">typename</span> Metavariables&gt;</div>
<div class="line">  <span class="keyword">auto</span> operator()(</div>
<div class="line">      <span class="keyword">const</span> <span class="keywordtype">double</span> constraint, <a class="code hl_class" href="classParallel_1_1GlobalCache.html">Parallel::GlobalCache&lt;Metavariables&gt;</a>&amp; <span class="comment">/*cache*/</span>,</div>
<div class="line">      <span class="keyword">const</span> <a class="code hl_class" href="classElementId.html">ElementId&lt;Metavariables::volume_dim&gt;</a>&amp; <span class="comment">/*element_id*/</span>)<span class="keyword"> const </span>{</div>
<div class="line">    <span class="keywordflow">return</span> std::abs(constraint) &gt; target_value_</div>
<div class="line">               ? <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/container/array.html">std::array</a>{<a class="code hl_enumvalue" href="group__AmrGroup.html#gga6874579f1400ff7d0d77cbfa978289e2a8a9e64d86ed12ad40de129bc7f4683b2">amr::Flag::Split</a>}</div>
<div class="line">               : (std::abs(constraint) &lt; 0.1 * target_value_</div>
<div class="line">                      ? <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/container/array.html">std::array</a>{<a class="code hl_enumvalue" href="group__AmrGroup.html#gga6874579f1400ff7d0d77cbfa978289e2aa286d9991c6a547ae25a5f5216164b8f">amr::Flag::Join</a>}</div>
<div class="line">                      : <a class="code hl_classRef" href="http://en.cppreference.com/w/cpp/container/array.html">std::array</a>{<a class="code hl_enumvalue" href="group__AmrGroup.html#gga6874579f1400ff7d0d77cbfa978289e2a71b7f3fcd4098ebf8a3b387579d90dd7">amr::Flag::DoNothing</a>});</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordtype">void</span> pup(PUP::er&amp; p)<span class="keyword"> override </span>{</div>
<div class="line">    Criterion::pup(p);</div>
<div class="line">    p | target_value_;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line"> <span class="keyword">private</span>:</div>
<div class="line">  <span class="keywordtype">double</span> target_value_{0.0};</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">PUP::able::PUP_ID CriterionTwo::my_PUP_ID = 0;  <span class="comment">// NOLINT</span></div>
<div class="line"><span class="preprocessor">#pragma GCC diagnostic pop</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>Metavariables {</div>
<div class="line">  <span class="keyword">static</span> <span class="keyword">constexpr</span> <span class="keywordtype">size_t</span> volume_dim = 1;</div>
<div class="line">  <span class="keyword">using</span> component_list = tmpl::list&lt;&gt;;</div>
<div class="line">  <span class="keyword">using</span> const_global_cache_tags = tmpl::list&lt;&gt;;</div>
<div class="line">  <span class="keyword">struct </span>factory_creation</div>
<div class="line">      : <a class="code hl_struct" href="structtt_1_1ConformsTo.html">tt::ConformsTo</a>&lt;Options::protocols::FactoryCreation&gt; {</div>
<div class="line">    <span class="keyword">using</span> factory_classes = tmpl::map&lt;</div>
<div class="line">        tmpl::pair&lt;amr::Criterion, tmpl::list&lt;CriterionOne, CriterionTwo&gt;&gt;&gt;;</div>
<div class="line">  };</div>
<div class="line">};</div>
<div class="ttc" id="aarray_html"><div class="ttname"><a href="http://en.cppreference.com/w/cpp/container/array.html">std::array</a></div></div>
<div class="ttc" id="aclassElementId_html"><div class="ttname"><a href="classElementId.html">ElementId</a></div><div class="ttdoc">An ElementId uniquely labels an Element.</div><div class="ttdef"><b>Definition:</b> ElementId.hpp:52</div></div>
<div class="ttc" id="aclassParallel_1_1GlobalCache_html"><div class="ttname"><a href="classParallel_1_1GlobalCache.html">Parallel::GlobalCache</a></div><div class="ttdoc">A Charm++ chare that caches constant data once per Charm++ node or non-constant data once per Charm++...</div><div class="ttdef"><b>Definition:</b> GlobalCache.hpp:374</div></div>
<div class="ttc" id="aclassamr_1_1Criterion_html"><div class="ttname"><a href="classamr_1_1Criterion.html">amr::Criterion</a></div><div class="ttdoc">Base class for something that determines how an adaptive mesh should be changed.</div><div class="ttdef"><b>Definition:</b> Criterion.hpp:41</div></div>
<div class="ttc" id="aclassgsl_1_1not__null_html"><div class="ttname"><a href="classgsl_1_1not__null.html">gsl::not_null</a></div><div class="ttdoc">Require a pointer to not be a nullptr</div><div class="ttdef"><b>Definition:</b> Gsl.hpp:183</div></div>
<div class="ttc" id="agroup__AmrGroup_html_gga6874579f1400ff7d0d77cbfa978289e2a71b7f3fcd4098ebf8a3b387579d90dd7"><div class="ttname"><a href="group__AmrGroup.html#gga6874579f1400ff7d0d77cbfa978289e2a71b7f3fcd4098ebf8a3b387579d90dd7">amr::Flag::DoNothing</a></div><div class="ttdeci">@ DoNothing</div><div class="ttdoc">stay the same</div></div>
<div class="ttc" id="agroup__AmrGroup_html_gga6874579f1400ff7d0d77cbfa978289e2a8a9e64d86ed12ad40de129bc7f4683b2"><div class="ttname"><a href="group__AmrGroup.html#gga6874579f1400ff7d0d77cbfa978289e2a8a9e64d86ed12ad40de129bc7f4683b2">amr::Flag::Split</a></div><div class="ttdeci">@ Split</div><div class="ttdoc">split the Element into two smaller elements</div></div>
<div class="ttc" id="agroup__AmrGroup_html_gga6874579f1400ff7d0d77cbfa978289e2aa286d9991c6a547ae25a5f5216164b8f"><div class="ttname"><a href="group__AmrGroup.html#gga6874579f1400ff7d0d77cbfa978289e2aa286d9991c6a547ae25a5f5216164b8f">amr::Flag::Join</a></div><div class="ttdeci">@ Join</div><div class="ttdoc">join the sibling of an Element</div></div>
<div class="ttc" id="agroup__ParallelGroup_html_ga54770b986b9c522da6d651e1be125a03"><div class="ttname"><a href="group__ParallelGroup.html#ga54770b986b9c522da6d651e1be125a03">WRAPPED_PUPable_decl_template</a></div><div class="ttdeci">#define WRAPPED_PUPable_decl_template(className)</div><div class="ttdoc">Mark derived classes as serializable.</div><div class="ttdef"><b>Definition:</b> CharmPupable.hpp:22</div></div>
<div class="ttc" id="anamespaceOptions_html_aa61c7f41f21afa7646811456f673be89"><div class="ttname"><a href="namespaceOptions.html#aa61c7f41f21afa7646811456f673be89">Options::String</a></div><div class="ttdeci">const char *const String</div><div class="ttdoc">The string used in option structs.</div><div class="ttdef"><b>Definition:</b> String.hpp:8</div></div>
<div class="ttc" id="astructdb_1_1ComputeTag_html"><div class="ttname"><a href="structdb_1_1ComputeTag.html">db::ComputeTag</a></div><div class="ttdoc">Mark a struct as a compute tag by inheriting from this.</div><div class="ttdef"><b>Definition:</b> Tag.hpp:157</div></div>
<div class="ttc" id="astructdb_1_1SimpleTag_html"><div class="ttname"><a href="structdb_1_1SimpleTag.html">db::SimpleTag</a></div><div class="ttdoc">Mark a struct as a simple tag by inheriting from this.</div><div class="ttdef"><b>Definition:</b> Tag.hpp:36</div></div>
<div class="ttc" id="astructtt_1_1ConformsTo_html"><div class="ttname"><a href="structtt_1_1ConformsTo.html">tt::ConformsTo</a></div><div class="ttdoc">Indicate a class conforms to the Protocol.</div><div class="ttdef"><b>Definition:</b> ProtocolHelpers.hpp:22</div></div>
</div><!-- fragment --> </div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a2ccadf5f26f696cc98db98359561f8d8" name="a2ccadf5f26f696cc98db98359561f8d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2ccadf5f26f696cc98db98359561f8d8">&#9670;&nbsp;</a></span>evaluate()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename ComputeTagsList , typename DataBoxType , typename Metavariables &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto amr::Criterion::evaluate </td>
          <td>(</td>
          <td class="paramtype">const ObservationBox&lt; ComputeTagsList, DataBoxType &gt; &amp;&#160;</td>
          <td class="paramname"><em>box</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classParallel_1_1GlobalCache.html">Parallel::GlobalCache</a>&lt; Metavariables &gt; &amp;&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classElementId.html">ElementId</a>&lt; Metavariables::volume_dim &gt; &amp;&#160;</td>
          <td class="paramname"><em>element_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Evaluates the AMR criteria by selecting the appropriate derived class and forwarding its <code>argument_tags</code> from the ObservationBox (along with the GlobalCache and ArrayIndex) to the call operator of the derived class. </p>
<dl class="section note"><dt>Note</dt><dd>In order to be available, a derived <a class="el" href="classamr_1_1Criterion.html" title="Base class for something that determines how an adaptive mesh should be changed.">Criterion</a> must be listed in the entry for <a class="el" href="classamr_1_1Criterion.html" title="Base class for something that determines how an adaptive mesh should be changed.">Criterion</a> in Metavarialbes::factory_creation::factory_classes</dd>
<dd>
The ComputeTagsList of the ObservationBox should contain the union of the tags listed in <code>compute_tags_for_observation_box</code> for each derived <a class="el" href="classamr_1_1Criterion.html" title="Base class for something that determines how an adaptive mesh should be changed.">Criterion</a> listed in the <code>factory_classes</code>. </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>src/ParallelAlgorithms/Amr/Criteria/Criterion.hpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceamr.html">amr</a></li><li class="navelem"><a class="el" href="classamr_1_1Criterion.html">Criterion</a></li>
    <li class="footer">
    &copy; Copyright 2017 - 2023
    <a href="https://black-holes.org">SXS Collaboration</a>,
    <a href="LICENSE.txt" target="_blank">
    <span class="hidden-xs">Distributed under the</span>
    MIT License</a>
  </ul>
</div>
</body>
</html>
