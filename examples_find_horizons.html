<!-- HTML header for doxygen 1.9.1-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=9"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <meta name="author" content="SXS Collaboration">
    <meta name="generator" content="Doxygen 1.9.3"/>
  <title>SpECTRE: Finding apparent horizons in volume data</title>
  <link href="tabs.css" rel="stylesheet" type="text/css"/>
  <script type="text/javascript" src="jquery.js"></script>
  <script type="text/javascript" src="dynsections.js"></script>
  <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
  <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
  <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
});
</script>
<script type="text/javascript" async="async" src="./MathJax.js"></script>
  <link href="octicons.css" rel="stylesheet">
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
  <script src="https://unpkg.com/@popperjs/core@2"></script>
  <script src="https://unpkg.com/tippy.js@6"></script>
  <script type="text/javascript" src="spectre.js"></script>
  <script type="text/javascript" src="doxygen-navtree-hacks.js"></script>
  <script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
  <script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
  <script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
  <script type="text/javascript">
    DoxygenAwesomeFragmentCopyButton.init()
    DoxygenAwesomeInteractiveToc.init()
    DoxygenAwesomeParagraphLink.init()
  </script>
  </head>
  <body>
  <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
  <div id="titlearea">
    <table cellspacing="0" cellpadding="0">
      <tbody>
        <tr style="height: 56px;">
          <td id="projectalign" style="padding-left: 0.5em;">
            <div id="projectname">
              <a href="index.html">SpECTRE</a>
              &#160;<span id="projectnumber">v2023.06.19</span>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  <!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('examples_find_horizons.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Finding apparent horizons in volume data </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md__work_build_docs_tmp_notebooks_md_FindHorizons"></a> In this example we will generate some numeric volume data representing a Kerr black hole and then find its apparent horizon.</p>
<div class="fragment"><div class="line"><span class="comment"># Distributed under the MIT License.</span></div>
<div class="line"><span class="comment"># See LICENSE.txt for details.</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># Dependencies:</span></div>
<div class="line">%pip install numpy matplotlib pandas <span class="stringliteral">&#39;h5py&gt;=3.0.0&#39;</span> ruamel.yaml</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="keyword">import</span> h5py</div>
<div class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</div>
<div class="line"><span class="keyword">import</span> os</div>
<div class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</div>
<div class="line"><span class="keyword">from</span> copy <span class="keyword">import</span> deepcopy</div>
<div class="line"><span class="keyword">from</span> ruamel.yaml <span class="keyword">import</span> YAML</div>
</div><!-- fragment --><div class="fragment"><div class="line">%%bash</div>
<div class="line"># Clean up output files from previous runs</div>
<div class="line">rm -f Kerr*.h5</div>
<div class="line">rm -f FindHorizons*.h5</div>
</div><!-- fragment --><p >First, make sure you have compiled the <code>SolveXcts</code> and <code>FindHorizons3D</code> executables in <code>Release</code> mode. Put the path to your build directory below.</p>
<div class="fragment"><div class="line">SPECTRE_BUILD_DIR = <span class="stringliteral">&quot;/Users/nlf/Work/spectre/build-Default-Release&quot;</span></div>
<div class="line">SPECTRE_HOME = <span class="stringliteral">&quot;/Users/nlf/Projects/spectre/develop&quot;</span></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md196"></a>
Generate Kerr volume data</h1>
<p >We run the <code>SolveXcts</code> executable to generate Kerr volume data. We could also just invoke the Kerr analytic solution and write the data to disk, but the <code>SolveXcts</code> executable already writes volume data in the correct format.</p>
<div class="fragment"><div class="line"><span class="comment"># Load example input file</span></div>
<div class="line">kerrschild_input_file_path = os.path.join(</div>
<div class="line">    SPECTRE_HOME, <span class="stringliteral">&quot;tests/InputFiles/Xcts/KerrSchild.yaml&quot;</span></div>
<div class="line">)</div>
<div class="line">yaml = YAML()</div>
<div class="line"><span class="keyword">with</span> open(kerrschild_input_file_path, <span class="stringliteral">&quot;r&quot;</span>) <span class="keyword">as</span> open_input_file:</div>
<div class="line">    kerr_input_file = yaml.load(open_input_file)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Modify Kerr-Schild example input file</span></div>
<div class="line"><span class="comment"># - Set some interesting Kerr parameters</span></div>
<div class="line">kerr_input_file[<span class="stringliteral">&quot;Background&quot;</span>][<span class="stringliteral">&quot;KerrSchild&quot;</span>] = dict(</div>
<div class="line">    Mass=1.0, Spin=[0.0, 0.0, 0.9], Center=[0.0, 0.0, 0.0]</div>
<div class="line">)</div>
<div class="line"><span class="comment"># - Set the initial guess to the solution to converge quickly</span></div>
<div class="line">kerr_input_file[<span class="stringliteral">&quot;InitialGuess&quot;</span>] = kerr_input_file[<span class="stringliteral">&quot;Background&quot;</span>]</div>
<div class="line"><span class="comment"># - Choose domain parameters</span></div>
<div class="line">domain_params = kerr_input_file[<span class="stringliteral">&quot;DomainCreator&quot;</span>][<span class="stringliteral">&quot;Sphere&quot;</span>]</div>
<div class="line">domain_params[<span class="stringliteral">&quot;InnerRadius&quot;</span>] = 1.0</div>
<div class="line">domain_params[<span class="stringliteral">&quot;InitialRefinement&quot;</span>] = 0</div>
<div class="line">domain_params[<span class="stringliteral">&quot;InitialGridPoints&quot;</span>] = [8, 8, 8]</div>
<div class="line"><span class="comment"># - Allow the elliptic solver to converge</span></div>
<div class="line">kerr_input_file[<span class="stringliteral">&quot;NonlinearSolver&quot;</span>][<span class="stringliteral">&quot;NewtonRaphson&quot;</span>][<span class="stringliteral">&quot;ConvergenceCriteria&quot;</span>][</div>
<div class="line">    <span class="stringliteral">&quot;MaxIterations&quot;</span></div>
<div class="line">] = 10</div>
<div class="line"><span class="comment"># - Set output file names</span></div>
<div class="line">kerr_input_file[<span class="stringliteral">&quot;Observers&quot;</span>][<span class="stringliteral">&quot;VolumeFileName&quot;</span>] = <span class="stringliteral">&quot;KerrVolume&quot;</span></div>
<div class="line">kerr_input_file[<span class="stringliteral">&quot;Observers&quot;</span>][<span class="stringliteral">&quot;ReductionFileName&quot;</span>] = <span class="stringliteral">&quot;KerrReductions&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># Write modified input file</span></div>
<div class="line"><span class="keyword">with</span> open(<span class="stringliteral">&quot;Kerr.yaml&quot;</span>, <span class="stringliteral">&quot;w&quot;</span>) <span class="keyword">as</span> open_input_file:</div>
<div class="line">    yaml.dump(kerr_input_file, open_input_file)</div>
</div><!-- fragment --><div class="fragment"><div class="line">SOLVE_XCTS = os.path.join(SPECTRE_BUILD_DIR, <span class="stringliteral">&quot;bin/SolveXcts&quot;</span>)</div>
<div class="line">!{SOLVE_XCTS} --input-file Kerr.yaml +auto-provision</div>
</div><!-- fragment --> <pre class="fragment">Charm++: standalone mode (not using charmrun)
Charm++&gt; Running in Multicore mode: 12 threads (PEs)
Converse/Charm++ Commit ID: v6.10.2-0-g7bf00fa
Warning&gt; Randomization of virtual memory (ASLR) is turned on in the kernel, thread migration may not work! Run 'echo 0 &gt; /proc/sys/kernel/randomize_va_space' as root to disable it, or try running with '+isomalloc_sync'.
CharmLB&gt; Load balancer assumes all CPUs are same.
HWLOC&gt; [0] Thread 0x7fa168aba180 bound to cpuset: 0x00000001
HWLOC&gt; [10] Thread 0x7fa148a87700 bound to cpuset: 0x00000400
HWLOC&gt; [1] Thread 0x7fa14d290700 bound to cpuset: 0x00000002
HWLOC&gt; [5] Thread 0x7fa14b28c700 bound to cpuset: 0x00000020
HWLOC&gt; [8] Thread 0x7fa149a89700 bound to cpuset: 0x00000100
HWLOC&gt; [2] Thread 0x7fa14ca8f700 bound to cpuset: 0x00000004
HWLOC&gt; [11] Thread 0x7fa148286700 bound to cpuset: 0x00000800
HWLOC&gt; [3] Thread 0x7fa14c28e700 bound to cpuset: 0x00000008
HWLOC&gt; [6] Thread 0x7fa14aa8b700 bound to cpuset: 0x00000040
HWLOC&gt; [4] Thread 0x7fa14ba8d700 bound to cpuset: 0x00000010
HWLOC&gt; [9] Thread 0x7fa149288700 bound to cpuset: 0x00000200
HWLOC&gt; [7] Thread 0x7fa14a28a700 bound to cpuset: 0x00000080
Charm++&gt; Running on 1 hosts (12 sockets x 1 cores x 1 PUs = 12-way SMP)
Charm++&gt; cpu topology info is gathered in 0.003 seconds.

Executing '/Users/nlf/Work/spectre/build-Default-Release/bin/SolveXcts' using 12 processors.
Charm++ startup time in seconds: 5.040069
Date and time at startup: Tue Mar  1 13:38:03 2022

SpECTRE Build Information:
Version:                      2022.02.17
Compiled on host:             2a7fcfdc5d9f
Compiled in directory:        /Users/nlf/Work/spectre/build-Default-Release
Source directory is:          /Users/nlf/Projects/spectre/develop
Compiled on git branch:       find_horizons_exec
Compiled on git revision:     a702fcd88e2
Linked on:                    Wed Feb 23 22:29:46 2022

The following options differ from their suggested values:

Option parsing completed.
Multigrid level 0 has 6 elements in 6 blocks distributed on 12 procs.
NewtonRaphson initialized with residual: 2.692374e+00
Gmres initialized with residual: 2.692374e+00
Gmres(1) iteration complete. Remaining residual: 1.585652e-02
Gmres(2) iteration complete. Remaining residual: 3.250109e-03
Gmres(3) iteration complete. Remaining residual: 6.606992e-04
Gmres(4) iteration complete. Remaining residual: 1.151248e-04
Gmres has converged in 4 iterations: RelativeResidual - The residual magnitude has decreased to a fraction of 0.0001 of its initial value or below (4.27596e-05).
NewtonRaphson(1) iteration complete (0 globalization steps, step length 1). Remaining residual: 1.430971e-01
Gmres initialized with residual: 1.430971e-01
Gmres(1) iteration complete. Remaining residual: 2.573815e-03
Gmres(2) iteration complete. Remaining residual: 5.880012e-04
Gmres(3) iteration complete. Remaining residual: 1.058190e-04
Gmres(4) iteration complete. Remaining residual: 2.932433e-05
Gmres(5) iteration complete. Remaining residual: 4.199566e-06
Gmres has converged in 5 iterations: RelativeResidual - The residual magnitude has decreased to a fraction of 0.0001 of its initial value or below (2.93477e-05).
NewtonRaphson(2) iteration complete (0 globalization steps, step length 1). Remaining residual: 1.914763e-05
Gmres initialized with residual: 1.914763e-05
Gmres(1) iteration complete. Remaining residual: 2.927570e-06
Gmres(2) iteration complete. Remaining residual: 7.516803e-07
Gmres(3) iteration complete. Remaining residual: 1.695121e-07
Gmres(4) iteration complete. Remaining residual: 3.852025e-08
Gmres(5) iteration complete. Remaining residual: 6.239554e-09
Gmres(6) iteration complete. Remaining residual: 3.306899e-10
Gmres has converged in 6 iterations: RelativeResidual - The residual magnitude has decreased to a fraction of 0.0001 of its initial value or below (1.72705e-05).
NewtonRaphson(3) iteration complete (0 globalization steps, step length 1). Remaining residual: 3.352486e-10
Gmres initialized with residual: 3.352486e-10
Gmres(1) iteration complete. Remaining residual: 2.969095e-11
Gmres(2) iteration complete. Remaining residual: 8.169831e-12
Gmres(3) iteration complete. Remaining residual: 1.702308e-12
Gmres(4) iteration complete. Remaining residual: 4.723995e-13
Gmres has converged in 4 iterations: AbsoluteResidual - The residual magnitude has decreased to 1e-12 or below (4.72399e-13).
NewtonRaphson(4) iteration complete (0 globalization steps, step length 1). Remaining residual: 4.951316e-13
NewtonRaphson has converged in 4 iterations: AbsoluteResidual - The residual magnitude has decreased to 1e-10 or below (4.95132e-13).

Done!
Wall time in seconds: 25.543363
Date and time at completion: Tue Mar  1 13:38:24 2022

[Partition 0][Node 0] End of program
</pre><h1><a class="anchor" id="autotoc_md197"></a>
Find horizons in the volume data</h1>
<p >We run the <code>FindHorizons3D</code> executable over the generated volume data:</p>
<div class="fragment"><div class="line"><span class="comment"># Load example input file</span></div>
<div class="line">horizons_input_file_path = os.path.join(</div>
<div class="line">    SPECTRE_HOME, <span class="stringliteral">&quot;tests/InputFiles/FindHorizons/FindHorizons3D.yaml&quot;</span></div>
<div class="line">)</div>
<div class="line"><span class="keyword">with</span> open(horizons_input_file_path, <span class="stringliteral">&quot;r&quot;</span>) <span class="keyword">as</span> open_input_file:</div>
<div class="line">    horizons_input_file = yaml.load(open_input_file)</div>
<div class="line"> </div>
<div class="line"><span class="comment"># Modify Kerr-Schild example input file</span></div>
<div class="line"><span class="comment"># - Select the same domain that we solved above</span></div>
<div class="line">horizons_input_file[<span class="stringliteral">&quot;DomainCreator&quot;</span>] = deepcopy(</div>
<div class="line">    kerr_input_file[<span class="stringliteral">&quot;DomainCreator&quot;</span>]</div>
<div class="line">)</div>
<div class="line">del horizons_input_file[<span class="stringliteral">&quot;DomainCreator&quot;</span>][<span class="stringliteral">&quot;Sphere&quot;</span>][<span class="stringliteral">&quot;OuterBoundaryCondition&quot;</span>]</div>
<div class="line">horizons_input_file[<span class="stringliteral">&quot;DomainCreator&quot;</span>][<span class="stringliteral">&quot;Sphere&quot;</span>][<span class="stringliteral">&quot;Interior&quot;</span>] = {<span class="stringliteral">&quot;Excise&quot;</span>: <span class="keyword">True</span>}</div>
<div class="line"><span class="comment"># - Set importer file names</span></div>
<div class="line">importer_params = horizons_input_file[<span class="stringliteral">&quot;Importers&quot;</span>][<span class="stringliteral">&quot;VolumeData&quot;</span>]</div>
<div class="line">importer_params[<span class="stringliteral">&quot;FileGlob&quot;</span>] = <span class="stringliteral">&quot;KerrVolume*.h5&quot;</span></div>
<div class="line">importer_params[<span class="stringliteral">&quot;ObservationValue&quot;</span>] = <span class="stringliteral">&quot;Last&quot;</span></div>
<div class="line"><span class="comment"># - AH finder parameters</span></div>
<div class="line">ah_params = horizons_input_file[<span class="stringliteral">&quot;ApparentHorizons&quot;</span>][<span class="stringliteral">&quot;AhA&quot;</span>]</div>
<div class="line">ah_params[<span class="stringliteral">&quot;InitialGuess&quot;</span>][<span class="stringliteral">&quot;Radius&quot;</span>] = 2.0</div>
<div class="line"><span class="comment"># - Set output file names</span></div>
<div class="line">horizons_input_file[<span class="stringliteral">&quot;Observers&quot;</span>][<span class="stringliteral">&quot;VolumeFileName&quot;</span>] = <span class="stringliteral">&quot;FindHorizonsVolume&quot;</span></div>
<div class="line">horizons_input_file[<span class="stringliteral">&quot;Observers&quot;</span>][<span class="stringliteral">&quot;ReductionFileName&quot;</span>] = <span class="stringliteral">&quot;FindHorizonsReductions&quot;</span></div>
<div class="line">horizons_input_file[<span class="stringliteral">&quot;Observers&quot;</span>][<span class="stringliteral">&quot;SurfaceFileName&quot;</span>] = <span class="stringliteral">&quot;FindHorizonsSurfaces&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment"># Write modified input file</span></div>
<div class="line"><span class="keyword">with</span> open(<span class="stringliteral">&quot;FindHorizons.yaml&quot;</span>, <span class="stringliteral">&quot;w&quot;</span>) <span class="keyword">as</span> open_input_file:</div>
<div class="line">    yaml.dump(horizons_input_file, open_input_file)</div>
</div><!-- fragment --><div class="fragment"><div class="line">FIND_HORIZONS = os.path.join(SPECTRE_BUILD_DIR, <span class="stringliteral">&quot;bin/FindHorizons3D&quot;</span>)</div>
<div class="line">!{FIND_HORIZONS} --input-file FindHorizons.yaml +auto-provision</div>
</div><!-- fragment --> <pre class="fragment">Charm++: standalone mode (not using charmrun)
Charm++&gt; Running in Multicore mode: 12 threads (PEs)
Converse/Charm++ Commit ID: v6.10.2-0-g7bf00fa
Warning&gt; Randomization of virtual memory (ASLR) is turned on in the kernel, thread migration may not work! Run 'echo 0 &gt; /proc/sys/kernel/randomize_va_space' as root to disable it, or try running with '+isomalloc_sync'.
CharmLB&gt; Load balancer assumes all CPUs are same.
HWLOC&gt; [0] Thread 0x7eff0efdb180 bound to cpuset: 0x00000001
HWLOC&gt; [2] Thread 0x7efef2fb0700 bound to cpuset: 0x00000004
HWLOC&gt; [1] Thread 0x7efef37b1700 bound to cpuset: 0x00000002
HWLOC&gt; [8] Thread 0x7efeeffaa700 bound to cpuset: 0x00000100
HWLOC&gt; [9] Thread 0x7efeef7a9700 bound to cpuset: 0x00000200
HWLOC&gt; [6] Thread 0x7efef0fac700 bound to cpuset: 0x00000040
HWLOC&gt; [7] Thread 0x7efef07ab700 bound to cpuset: 0x00000080
HWLOC&gt; [4] Thread 0x7efef1fae700 bound to cpuset: 0x00000010
HWLOC&gt; [10] Thread 0x7efeeefa8700 bound to cpuset: 0x00000400
HWLOC&gt; [5] Thread 0x7efef17ad700 bound to cpuset: 0x00000020
HWLOC&gt; [3] Thread 0x7efef27af700 bound to cpuset: 0x00000008
HWLOC&gt; [11] Thread 0x7efeee7a7700 bound to cpuset: 0x00000800
Charm++&gt; Running on 1 hosts (12 sockets x 1 cores x 1 PUs = 12-way SMP)
Charm++&gt; cpu topology info is gathered in 0.009 seconds.

Executing '/Users/nlf/Work/spectre/build-Default-Release/bin/FindHorizons3D' using 12 processors.
Charm++ startup time in seconds: 0.097010
Date and time at startup: Tue Mar  1 13:38:25 2022

SpECTRE Build Information:
Version:                      2022.02.17
Compiled on host:             2a7fcfdc5d9f
Compiled in directory:        /Users/nlf/Work/spectre/build-Default-Release
Source directory is:          /Users/nlf/Projects/spectre/develop
Compiled on git branch:       find_horizons_exec
Compiled on git revision:     a702fcd88e2
Linked on:                    Wed Feb 23 22:29:46 2022

The following options differ from their suggested values:

Option parsing completed.
AhA: t=0: its=0: -5.2e-01&lt;R&lt;1e+00, |R|=0.5, |R_grid|=0.5, 2&lt;r&lt;2
AhA: t=0: its=1: -2.8e-03&lt;R&lt;4e-01, |R|=0.2, |R_grid|=0.2, 1.757&lt;r&lt;1.93
AhA: t=0: its=2: -1.2e-02&lt;R&lt;2e-01, |R|=0.1, |R_grid|=0.1, 1.653&lt;r&lt;1.86
AhA: t=0: its=3: -1.6e-02&lt;R&lt;2e-01, |R|=0.07, |R_grid|=0.08, 1.591&lt;r&lt;1.813
AhA: t=0: its=4: -2.0e-02&lt;R&lt;1e-01, |R|=0.05, |R_grid|=0.06, 1.55&lt;r&lt;1.78
AhA: t=0: its=5: -2.3e-02&lt;R&lt;1e-01, |R|=0.04, |R_grid|=0.05, 1.521&lt;r&lt;1.758
AhA: t=0: its=6: -4.1e-02&lt;R&lt;8e-02, |R|=0.03, |R_grid|=0.04, 1.501&lt;r&lt;1.742
AhA: t=0: its=7: -5.7e-02&lt;R&lt;7e-02, |R|=0.02, |R_grid|=0.03, 1.486&lt;r&lt;1.73
AhA: t=0: its=8: -6.8e-02&lt;R&lt;7e-02, |R|=0.01, |R_grid|=0.03, 1.475&lt;r&lt;1.721
AhA: t=0: its=9: -7.7e-02&lt;R&lt;6e-02, |R|=0.01, |R_grid|=0.03, 1.467&lt;r&lt;1.715
AhA: t=0: its=10: -8.3e-02&lt;R&lt;6e-02, |R|=0.008, |R_grid|=0.03, 1.461&lt;r&lt;1.71
AhA: t=0: its=11: -8.7e-02&lt;R&lt;6e-02, |R|=0.006, |R_grid|=0.03, 1.456&lt;r&lt;1.707
AhA: t=0: its=12: -9.1e-02&lt;R&lt;5e-02, |R|=0.005, |R_grid|=0.02, 1.453&lt;r&lt;1.704
AhA: t=0: its=13: -9.4e-02&lt;R&lt;5e-02, |R|=0.004, |R_grid|=0.02, 1.45&lt;r&lt;1.702
AhA: t=0: its=14: -9.6e-02&lt;R&lt;5e-02, |R|=0.003, |R_grid|=0.02, 1.448&lt;r&lt;1.701
AhA: t=0: its=15: -9.7e-02&lt;R&lt;5e-02, |R|=0.002, |R_grid|=0.02, 1.447&lt;r&lt;1.699
AhA: t=0: its=16: -9.8e-02&lt;R&lt;5e-02, |R|=0.002, |R_grid|=0.02, 1.446&lt;r&lt;1.699
AhA: t=0: its=17: -9.9e-02&lt;R&lt;5e-02, |R|=0.001, |R_grid|=0.02, 1.445&lt;r&lt;1.698
AhA: t=0: its=18: -1.0e-01&lt;R&lt;5e-02, |R|=0.0009, |R_grid|=0.02, 1.444&lt;r&lt;1.697
AhA: t=0: its=19: -1.0e-01&lt;R&lt;5e-02, |R|=0.0007, |R_grid|=0.02, 1.444&lt;r&lt;1.697
AhA: t=0: its=20: -1.0e-01&lt;R&lt;5e-02, |R|=0.0005, |R_grid|=0.02, 1.443&lt;r&lt;1.697
AhA: t=0: its=21: -1.0e-01&lt;R&lt;5e-02, |R|=0.0004, |R_grid|=0.02, 1.443&lt;r&lt;1.697
AhA: t=0: its=22: -1.0e-01&lt;R&lt;5e-02, |R|=0.0003, |R_grid|=0.02, 1.443&lt;r&lt;1.696
AhA: t=0: its=23: -1.0e-01&lt;R&lt;5e-02, |R|=0.0002, |R_grid|=0.02, 1.443&lt;r&lt;1.696

Done!
Wall time in seconds: 5.510678
Date and time at completion: Tue Mar  1 13:38:31 2022

[Partition 0][Node 0] End of program
</pre><h1><a class="anchor" id="autotoc_md198"></a>
Horizon quantities</h1>
<p >The horizon finder measures a few surface quantities:</p>
<div class="fragment"><div class="line"><span class="comment"># These routines read the data and process them a bit. You can skip them to see</span></div>
<div class="line"><span class="comment"># the results below.</span></div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"><span class="keyword">def </span>load_dataset(subfile):</div>
<div class="line">    legend = subfile.attrs[<span class="stringliteral">&quot;Legend&quot;</span>]</div>
<div class="line">    <span class="keywordflow">return</span> pd.DataFrame(data=subfile, columns=legend).set_index(legend[0])</div>
</div><!-- fragment --><div class="fragment"><div class="line"><span class="keyword">with</span> h5py.File(<span class="stringliteral">&quot;FindHorizonsReductions.h5&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>) <span class="keyword">as</span> open_h5_file:</div>
<div class="line">    ah = load_dataset(open_h5_file[<span class="stringliteral">&quot;AhA.dat&quot;</span>])</div>
</div><!-- fragment --><div class="fragment"><div class="line">print(ah.to_string())</div>
</div><!-- fragment --> <pre class="fragment">          Area  IrreducibleMass  MaxRicciScalar  MinRicciScalar  ChristodoulouMass  DimensionlessSpinMagnitude
Time                                                                                                          
0.0   36.03551         0.846702        1.734013       -0.082303            0.96325                     0.83824
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.1-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="examples.html">Examples</a></li>
    <li class="footer">
    &copy; Copyright 2017 - 2023
    <a href="https://black-holes.org">SXS Collaboration</a>,
    <a href="LICENSE.txt" target="_blank">
    <span class="hidden-xs">Distributed under the</span>
    MIT License</a>
  </ul>
</div>
</body>
</html>
